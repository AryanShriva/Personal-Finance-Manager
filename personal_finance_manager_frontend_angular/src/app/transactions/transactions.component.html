<h2>Transactions</h2>
<button mat-raised-button color="primary" (click)="openForm()">Add Transaction</button>

<div *ngIf="showForm">
  <form [formGroup]="transactionForm" (ngSubmit)="onSubmit()">
    <mat-form-field>
      <input matInput placeholder="Amount" formControlName="amount" type="number" required>
    </mat-form-field>
    <mat-form-field>
      <mat-select placeholder="Type" formControlName="type" required>
        <mat-option value="INCOME">Income</mat-option>
        <mat-option value="EXPENSE">Expense</mat-option>
      </mat-select>
    </mat-form-field>
    <mat-form-field>
      <input matInput [matDatepicker]="picker" placeholder="Date" formControlName="date" required>
      <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
      <mat-datepicker #picker></mat-datepicker>
    </mat-form-field>
    <mat-form-field>
      <input matInput placeholder="Category" formControlName="category" required>
    </mat-form-field>
    <button mat-raised-button color="primary" type="submit" [disabled]="transactionForm.invalid">Save</button>
    <button mat-button type="button" (click)="cancelForm()">Cancel</button>
  </form>
</div>

<table mat-table [dataSource]="transactions" class="mat-elevation-z8">
  <ng-container matColumnDef="amount">
    <th mat-header-cell *matHeaderCellDef> Amount </th>
    <td mat-cell *matCellDef="let element"> {{element.amount}} </td>
  </ng-container>
  <ng-container matColumnDef="type">
    <th mat-header-cell *matHeaderCellDef> Type </th>
    <td mat-cell *matCellDef="let element"> {{element.type}} </td>
  </ng-container>
  <ng-container matColumnDef="date">
    <th mat-header-cell *matHeaderCellDef> Date </th>
    <td mat-cell *matCellDef="let element"> {{element.date | date}} </td>
  </ng-container>
  <ng-container matColumnDef="category">
    <th mat-header-cell *matHeaderCellDef> Category </th>
    <td mat-cell *matCellDef="let element"> {{element.category}} </td>
  </ng-container>
  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
</table>

<style>
  table {
    width: 100%;
    margin-top: 20px;
  }
  .mat-form-field {
    width: 200px;
    margin: 10px;
  }
  form {
    display: flex;
    flex-wrap: wrap;
    margin-top: 20px;
  }
</style>